# 数据仓库高级话题
## 需求和数据仓库
### 数据仓库和数据模型
* 数据仓库是有数据模型定型的.
* 数据模型分为不同的层,分为:高级数据模型,中层数据模型和底层数据模型
* 高级数据模型显示出数据仓库的不同主题域是如何分割的.是骨架.
* 中层数据模型确定键,属性,关系和数据仓库的其他细节.有血有肉.
* 底层数据模型用来进行数据仓库的物理设计.在中间层上进行分区,定义索引以及完成其他物理方面的设计.

### 关系模型的基础
* 数据仓库的关系控件用来支持对数据的其他视图.
* 数据仓库的关系基础用来创建数据的其他视图与组合.
* 关系型数据库被创建后就形成了数据仓库的核心,然后根据用户的需要来指示数据重组.

### 数据仓库和统计处理
* 普通数据访问和频繁的统计处理不能很好的融合.
* 两种处理进行融合的时候会产生资源竞争.

## 数据仓库没的资源竞争
### 探查型数据仓库
* 当对资源的竞争成为一个问题时,采用能够分析一种特殊形式的数据仓库--探查型数据仓库和数据挖掘型数据仓库.
* 探查型数据仓库为处理繁重的统计分析提供基础.
* 一旦探查型数据仓库简称,不再有数据仓库内的竞争问题.
* 建立探查型数据仓库的原因
	* 解决数据仓库资源竞争问题
	* 提供分析统计环境
* 探查型数据仓库的对象通常是项目,为项目提供统计分析结果.
* 当项目结束后,探查型数据库就没有用了.
* 数据仓库为长远目的而建立的.

### 数据挖掘型数据仓库
* 探查型数据仓库与数据挖掘型数据仓库有些类似.
* 探查型数据仓库的主要目的是为了创建断言,假设和观测.从数据挖掘型数据仓库可以知道假设的真实性到底有多强.
* 探查型数据仓库必须包含多种不同的数据类型,以提供有广度的信息.
* 数据挖掘型数据仓库需要有深度.
* 探查型数据仓库和数据挖掘型数据仓库区别很小,一般公司用探查型数据仓库提供探查和挖掘功能,只有业务复杂的公司需要进行区分.

### 冻结探查型数据仓库
* 探查型数据仓库有一个特征与数据仓库完全不同:探查型数据仓库有时并不能用现今的细节数据进行更新,数据仓库只要细节数已经进入仓库,就可以有规律的更新.
* 不能更新的原始是在进行启发式分析时,需要保证数据的不变.避免产生有歧义的结果.

### 外部数据和探查型数据仓库
* 外部数据很容易适应探查型数据仓库,但是很难适用于数据仓库.
* 探查型数据仓库使用外部数据是有意义的,需要把内部数据和外部数据进行比较.
* 数据仓库由于较强的集成性,使用外部数据使用数据仓库比较困难.

## 数据的生命周期
* 数据进去公司并在公司使用都是有生命周期的.
* 最先通过用户产生数据,数据从操作型环境产生,一般以在线数据的形式产生的.随着时间的流逝,在线数据必须要集成,数据经过ETL进入数据仓库变成企业数据.数据进入数据仓库后,它的使用评率比较高.但是使用频率会随着时间变小.一段时间后,数据进入了近线数据存储,间或被使用.最后数据要做归档处理,几乎很少使用.
* 在数据的整个生命周期,由于对数据的访问概率会发生变化,企业视图也会放生变化,数据必须从一个体系控件传入另一个体系控件.

## 追踪数据仓库中的数据流
* 基于多方面的原因,需要对数据仓库当中的数据流以及所涉及的部件进行追踪.
* 需要做的追踪是有原因的,并不是为了支持最终用户进行分析.
* 分析员通过追踪数据的流程就可以知道数据的真实意义.通过分析数据所经过的转换以及重新对数据计算等等,来确定的知道数据的真实意义.
* 对数据仓库以及所涉及的部件当中的数据流进行追踪,涉及的一个问题就是数据转换.数据转换知道在两种情况下发生:改变名称(元数据的改变)和值本身的转换.

### 数据仓库中的数据速率
* 数据仓库中的数据速率指数据从最初捕获到分析人员分析这个过程的数据的传输速率.
* 一些确定因素减慢数据速率.
	* 数据集成,数据集成越多,数据速率越低.
* 有的数据速率不是越高越好,启发式分析的探查型系统,要做数据流截断,来避免新数据对决策造成损害.

### 推和拉数据
* 推的过程中,数据可用就可以移入.
* 拉的过程中,数据只有在需要的时候才移动.
* 数据移入数据仓库可以看成一个推的过程.
* 数据从仓库移到数据集市是一个拉的过程.

## 数据仓库和基于网络的电子商务环境
* 电子商务环境是基于网络的,在这种环境中公众通过互联网处理商务事物.
* 基于网络环境产生的点击流数据要经过粒度管理器后才能进入数据仓库.
* 数据仓库中的数据流入ODS中才能应用到网络环境中.

### 粒度管理器 
* 网络环境产生大量数据,这些数据成为点击流数据,一般位于网络日志中.
* 点击流数据在用户每次使用互联网的时候产生.
* 大多数的点击流数据没有价值,只有5%或者更少的点击流数据是有用的.
* 粒度管理器用来区分哪些点击流数据是有用的.
* 粒度管理器完成的任务:
	* 移除无关的点击流数据
	* 对点击流数据进行综合
	* 聚集点击流数据
	* 合并点击流数据
	* 压缩点击流数据
* 当数据从粒度管理器中移出,数据就可以进入数据仓库.
* 粒度管理器是进入数据仓库的另一个来源.
* 一旦网络环境需要数据仓库中的数据,就需要从数据仓库中移数据到ODS中.
* 网络环境需要的响应时间低于1秒,数据仓库是不可能的.但是ODS能满足这样的响应需求,所以需要用ODS来做数据仓库和网络环境间的连接.

### 概要记录
* 数据从ODS进入数据仓库以支持网络环境时,需要概要文件的存储格式安排的.
* 概要记录是一种形式信息.
* 从数据仓库中抽取细节数据,然后通过一个共同的主键来完成压缩成一条记录.
* 如果没有ODS中的概要记录,访问的时候必须要进入数据仓库,十分影响响应时间.
* 一旦概要记录创建并在ODS中,对它的访问时间就可以用毫秒来衡量了,这样就能敏捷搞笑的提供访问服务了.

## 记录系统
* 记录系统是给定的所有信息值得信息源.
* 在默认情况下的系统确定为记录系统的值才是正确的.
* 当前值表达的是访问时数据的精确性.
* 当前值和当前值的数据记录系统应放在应用环境中,历史值应该放在数据仓库中.
* 记录系统中的数据是当前值.当数据传输到数据仓库环境中,数据从当前值数据变成了历史数据.

### 数据仓库的扩展
* 多维OLAP数据集市:用于多维业务分析.
* 探查型数据仓库:用于数据统计和分析.
* ODS:用于响应网络环境的高时间要求.

