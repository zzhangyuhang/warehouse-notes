#<数据仓库>
##第二章:数据仓库环境
###粒度
	1.粒度指得是数据仓库中数据单元的细节程度或综合程度的级别.
	2.细节程度越高,粒度级别越低;细节程度越低,粒度级别越高.
	例如:
		一条交易记录处于低粒度级别,每月交易记录汇总是高粒度级别.
	3.数据粒度影响存放在数据仓库中的数据量的大小以及满足需求类型.
	4.高粒度级别数据比低粒度级别表示的数据效率高,存放数据空间小.
	5.低粒度级别数据能满足大多数需求,但是效率较低.
	6.设计数据仓库第一个关键问题就是粒度的设计.
	7.大多数数据仓库选择双重粒度的设计
	8.高粒度数据是从低粒度数据聚合而来,会丢失一些数据的细节.
###活样本数据库
	1.样本数据库是从数据仓库中取得的真实档案数据的一个子集.
	2.活指的是这个数据库需要进行周期的刷新.
	3.样本数据库的数据选取一般是随机的.
	4.活样本数据库的好处是相比较原始数据库的存取数据效率非常高.
###分区的设计
	1.数据仓库中数据的第二个主要设计问题.
	2.数据分区是将数据分解成为小的物理单元
	3.数据仓库的本质之一是灵活的访问数据.所以对大块细节数据要进行分区.
	4.数据分区的标准:
		(1)时间
		(2)业务范围
		(3)地理位置
		(4)组织单位
	  其中时间是所有分区标准中的一个必然的组成成分.
###数据仓库的数据组织
	1.简单堆积结构
	  (1)以逐个记录为基础堆积的数据,数据仓库中最简单的数据组织形式.
	  (2)从操作型环境中传输的数据记录,以天为单位然后再综合成数据仓库记录.
	  (3)记录会以开始进入的形式一直存在,只不过是简单堆积.
	  解释:
	  	以天为单位.从操作型环境中传输的记录,经过以天为单位做一定处理到数据仓库中.
	  以后的数据都是以相同的形式存入数据仓库,数据仓库也不会做任何处理,堆积数据.
	2.轮转综合数据存储
	  (1)与简单堆积结果处理方法相同从操作型环境进入数据仓库环境.
	  (2)在轮转综合数据的时候,数据会载入到一种完全不同的结构中.
	  解释:
	  	进入数据仓库形式与简单堆积相同,但是当到达七天后再次聚合成一周的数据,放	  到存放周数据的数据槽中,然后把第八天的数据放在第一天的数据槽中.
	3.简单直接文件
	  (1)数据仅仅是从操作型环境中被拖入数据仓库环境中,没有任何积累.
	  (2)不是以天为基础组织的,而是以较长时间生成的.
	  (3)相当于操作形数据间隔一定时间的快照
	  (4)可以把多个文件进行合并生成连续文件
	4.简单堆积结构和轮转综合数据存储的优缺点
		(1)轮转综合数据
			* 数据紧凑
			* 一些细节丢失
			* 时间越久,数据越不详细
		(2)简单堆积数据
			* 需要存储空间大
			* 无细节处理
			* 处理数据时效率低
	 自我理解:
		轮转综合数据相当于按照某个条件,达到条件后把数据聚合成高粒度的数据.
		简单堆积数据就是一直按照某个级别的低粒度进行堆积存储后续不进行任何操作.
		简单直接文件就是把存储数据的文件保存在数据仓库中.
###数据的异构
	1.数据仓库中的数据是异构的.
	2.数据仓库中的数据被分到以不同主题域的子划分中.
	3.每个数据仓库划分为多个主题域,每个主题域还有更细的表划分.
###数据仓库中的数据清理
	1.数据并不是永久的注入数据仓库,它在数据仓库中也有自己的数据周期.
	2.一定时间后,需要将数据从仓库中清除.
	3.从某种意义上讲,不是真正的清除,而是上升到更高的综合级.
	例如:轮转综合数据结构中的数据处理.
##小结
	1.数据的粒度和分区是进行数据仓库设计决策的两个重要方面.
	2.数据粒度设计师数据仓库设计中最重要的问题.
		(1)过小的粒度导致仓库会被巨大数据量压垮.
		(2)过高的粒度导致仓库无法完成大多数数据需求.
	3.处理粒度问题方案
		(1)建立服务于查询和分析的双粒度的多层数据仓库.
		(2)建立一个活样本数据库.
	3.数据分区使得数据可以在小的分开的离散单元中进行管理,使得数据管理变得简单.
	4.审计应该在DBMS中进行,不应该在数据仓库中进行.
		因为数据仓库中包含大量相应业务无关数据,定时更新也是问题,粒度也可能不满足.
	5.数据仓库中的数据应当有自己的生命周期,生命周期过后需要清理.
	
	